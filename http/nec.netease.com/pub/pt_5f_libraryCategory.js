function require(e){var t=require.resolve(e),n=require.modules[t];if(!n)throw new Error('failed to require "'+e+'"');if(!n.exports){n.exports={};n.call(n.exports,n,n.exports,require.relative(t))}return n.exports}require.modules={};require.resolve=function(e){var t=e,n=e+".js",i=e+"/index.js";return require.modules[n]&&n||require.modules[i]&&i||t};require.register=function(e,t){require.modules[e]=t};require.relative=function(e){return function(t){if("."!=t.substr(0,1))return require(t);var n=e.split("/"),i=t.split("/");n.pop();for(var a=0;a<i.length;a++){var r=i[a];if(".."==r)n.pop();else if("."!=r)n.push(r)}return require(n.join("/"))}};require.register("ejs.js",function(e,t,n){function i(e){return e.substr(1).split("|").reduce(function(e,t){var n=t.split(":"),i=n.shift(),a=n.shift()||"";if(a)a=", "+a;return"filters."+i+"("+e+a+")"})}function a(e,t,n,i){var a=t.split("\n"),r=Math.max(i-3,0),o=Math.min(a.length,i+3);var s=a.slice(r,o).map(function(e,t){var n=t+r+1;return(n==i?" >> ":"    ")+n+"| "+e}).join("\n");e.path=n;e.message=(n||"ejs")+":"+i+"\n"+s+"\n\n"+e.message;throw e}var r=n("./utils");t.version="0.5.0";var o=t.filters=n("./filters");var s={};t.clearCache=function(){s={}};var l=t.parse=function(e,n){var n=n||{},a=n.open||t.open||"<%",r=n.close||t.close||"%>";var o=["var buf = [];","\nwith (locals) {","\n  buf.push('"];var s=1;for(var l=0,_=e.length;l<_;++l)if(e.slice(l,a.length+l)==a){l+=a.length;var c,u,f="__stack.lineno="+s;switch(e.substr(l,1)){case"=":c="', escape(("+f+", ";u=")), '";++l;break;case"-":c="', ("+f+", ";u="), '";++l;break;default:c="');"+f+";";u="; buf.push('"}var d=e.indexOf(r,l),h=e.substring(l,d),p=l,v=0;for(;~(v=h.indexOf("\n",v));)v++,s++;if(":"==h.substr(0,1))h=i(h);o.push(c,h,u);l+=d-p+r.length-1}else if("\\"==e.substr(l,1))o.push("\\\\");else if("'"==e.substr(l,1))o.push("\\'");else if("\r"==e.substr(l,1))o.push(" ");else if("\n"==e.substr(l,1)){o.push("\\n");s++}else o.push(e.substr(l,1));o.push("');\n}\nreturn buf.join('');");return o.join("")};var _=t.compile=function(e,n){n=n||{};var i=JSON.stringify(e),s=n.filename?JSON.stringify(n.filename):"undefined";e=["var __stack = { lineno: 1, input: "+i+", filename: "+s+" };",a.toString(),"try {",t.parse(e,n),"} catch (err) {","  rethrow(err, __stack.input, __stack.filename, __stack.lineno);","}"].join("\n");if(n.debug)console.log(e);var l=new Function("locals, filters, escape",e);return function(e){return l.call(this,e,o,r.escape)}};t.render=function(e,t){var n,t=t||{};if(t.cache)if(t.filename)n=s[t.filename]||(s[t.filename]=_(e,t));else throw new Error('"cache" option requires "filename".');else n=_(e,t);t["__proto__"]=t.locals;return n.call(t.scope,t)};t.renderFile=function(e,n,i){var a=e+":string";if("function"==typeof n)i=n,n={};n.filename=e;try{var r=n.cache?t.cache[a]||(t.cache[a]=fs.readFileSync(e,"utf8")):fs.readFileSync(e,"utf8");i(null,t.render(r,n))}catch(o){i(o)}};t.__express=t.renderFile;if(n.extensions)n.extensions[".ejs"]=function(e,t){source=n("fs").readFileSync(t,"utf-8");e._compile(_(source,{}),t)};else if(n.registerExtension)n.registerExtension(".ejs",function(e){return _(e,{})})});require.register("filters.js",function(e,t,n){t.first=function(e){return e[0]};t.last=function(e){return e[e.length-1]};t.capitalize=function(e){e=String(e);return e[0].toUpperCase()+e.substr(1,e.length)};t.downcase=function(e){return String(e).toLowerCase()};t.upcase=function(e){return String(e).toUpperCase()};t.sort=function(e){return Object.create(e).sort()};t.sort_by=function(e,t){return Object.create(e).sort(function(e,n){e=e[t],n=n[t];if(e>n)return 1;if(e<n)return-1;else return 0})};t.size=t.length=function(e){return e.length};t.plus=function(e,t){return Number(e)+Number(t)};t.minus=function(e,t){return Number(e)-Number(t)};t.times=function(e,t){return Number(e)*Number(t)};t.divided_by=function(e,t){return Number(e)/Number(t)};t.join=function(e,t){return e.join(t||", ")};t.truncate=function(e,t){e=String(e);return e.substr(0,t)};t.truncate_words=function(e,t){var e=String(e),n=e.split(/ +/);return n.slice(0,t).join(" ")};t.replace=function(e,t,n){return String(e).replace(t,n||"")};t.prepend=function(e,t){return Array.isArray(e)?[t].concat(e):t+e};t.append=function(e,t){return Array.isArray(e)?e.concat(t):e+t};t.map=function(e,t){return e.map(function(e){return e[t]})};t.reverse=function(e){return Array.isArray(e)?e.reverse():String(e).split("").reverse().join("")};t.get=function(e,t){return e[t]};t.json=function(e){return JSON.stringify(e)}});require.register("utils.js",function(e,t,n){t.escape=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}});I$(68,function(){var e=NEJ.P,t=NEJ.F,n=e("nej.g"),i=e("nej.v"),a=e("nej.u"),r=e("nej.ut"),o=e("nej.ut.j"),s,l=6e4;if(!o._$$Loader){o._$$Loader=NEJ.C();s=o._$$Loader._$extend(r._$$Event);s.__init=function(){this.__supInit();this.__qopt={onerror:this.__onQueueError._$bind(this),onloaded:this.__onQueueLoaded._$bind(this)};if(!this.constructor.__cache)this.constructor.__cache={loaded:{}}};s.__reset=function(e){this.__supReset(e);this.__version=e.version;this.__timeout=e.timeout;this.__qopt.version=this.__version;this.__qopt.timeout=this.__timeout};s.__delLoadData=function(e){delete this.constructor.__cache[e]};s.__getLoadData=function(e){return this.constructor.__cache[e]};s.__setLoadData=function(e,t){this.constructor.__cache[e]=t};s.__getRequest=t;s.__clearRequest=function(e){i._$clearEvent(e)};s.__doRequest=function(e){e.src=this.__url;document.head.appendChild(e)};s.__doClear=function(){var e=this.__getLoadData(this.__url);if(e){window.clearTimeout(e.timer);this.__clearRequest(e.request);delete e.bind;delete e.timer;delete e.request;this.__delLoadData(this.__url);this.__getLoadData("loaded")[this.__url]=!0}};s.__doCallback=function(e){var t=this.__getLoadData(this.__url);if(t){var n=t.bind;this.__doClear();if(n&&n.length>0){var i;for(;n.length;){i=n.shift();try{i._$dispatchEvent(e,arguments[1])}catch(a){}i._$recycle()}}}};s.__onError=function(e){this.__doCallback("onerror",e)};s.__onLoaded=function(){this.__doCallback("onloaded")};s.__doLoadQueue=function(e){this.constructor._$allocate(this.__qopt)._$load(e)};s.__onQueueCheck=function(e){var t=this.__getLoadData(this.__key);if(t){if(e)t.error++;t.loaded++;if(!(t.loaded<t.total)){this.__delLoadData(this.__key);this._$dispatchEvent(t.error>0?"onerror":"onloaded")}}};s.__onQueueError=function(e){this.__onQueueCheck(!0)};s.__onQueueLoaded=function(){this.__onQueueCheck()};s._$load=function(e){e=a._$absolute(e);if(!e){this._$dispatchEvent("onerror",{code:n._$CODE_NOTASGN,message:"请指定要载入的资源地址！"});return this}this.__url=e;if(this.__version)this.__url+=(this.__url.indexOf("?")<0?"?":"&")+this.__version;if(this.__getLoadData("loaded")[this.__url]){try{this._$dispatchEvent("onloaded")}catch(t){}this._$recycle();return this}var r=this.__getLoadData(this.__url),o;if(r){r.bind.unshift(this);r.timer=window.clearTimeout(r.timer)}else{o=this.__getRequest();r={request:o,bind:[this]};this.__setLoadData(this.__url,r);i._$addEvent(o,"load",this.__onLoaded._$bind(this));i._$addEvent(o,"error",this.__onError._$bind(this,{code:n._$CODE_ERRSERV,message:"无法加载指定资源文件["+this.__url+"]！"}))}if(0!=this.__timeout)r.timer=window.setTimeout(this.__onError._$bind(this,{code:n._$CODE_TIMEOUT,message:"指定资源文件["+this.__url+"]载入超时！"}),this.__timeout||l);if(o)this.__doRequest(o);this._$dispatchEvent("onloading");return this};s._$queue=function(e){if(!e||!e.length){this._$dispatchEvent("onerror",{code:n._$CODE_NOTASGN,message:"请指定要载入的资源队列！"});return this}this.__key=a._$randNumberString();var t={error:0,loaded:0,total:e.length};this.__setLoadData(this.__key,t);for(var i=0,r=e.length;i<r;i++)if(e[i])this.__doLoadQueue(e[i]);else t.total--;this._$dispatchEvent("onloading");return this}}},15,16,3);I$(65,function(){var e=NEJ.P,t=NEJ.O,n=e("nej.e"),i=e("nej.ut.j"),a;if(!i._$$HtmlLoader){i._$$HtmlLoader=NEJ.C();a=i._$$HtmlLoader._$extend(i._$$Loader);a.__getRequest=function(){var e=n._$create("iframe");e.style.display="none";return e};a.__onError=function(e){var i=(this.__getLoadData(this.__url)||t).request;this.__doCallback("onerror",e);n._$remove(i)};a.__onLoaded=function(){var e=null,i=(this.__getLoadData(this.__url)||t).request;try{e=i.contentWindow.document.body}catch(a){}this.__doCallback("onloaded",e);n._$remove(i)}}},68);I$(66,function(){var e=NEJ.P,t=e("nej.e"),n=e("nej.ut.j"),i;if(!n._$$StyleLoader){n._$$StyleLoader=NEJ.C();i=n._$$StyleLoader._$extend(n._$$Loader);i.__getRequest=function(){return t._$create("link")};i.__doRequest=function(e){e.href=this.__url;document.head.appendChild(e)}}},68);I$(67,function(){var e=NEJ.P,t=e("nej.e"),n=e("nej.ut.j"),i;if(!n._$$ScriptLoader){n._$$ScriptLoader=NEJ.C();i=n._$$ScriptLoader._$extend(n._$$Loader);i.__reset=function(e){this.__supReset(e);this.__async=e.async;this.__charset=e.charset;this.__qopt.async=!1;this.__qopt.charset=this.__charset};i.__getRequest=function(){var e=t._$create("script");if(null!=this.__async)e.async=!!this.__async;if(null!=this.__charset)e.charset=this.__charset;return e};i.__clearRequest=function(e){t._$remove(e)}}},68);I$(58,function(){var e=NEJ.P,t=e("nej.j"),n=e("nej.ut.j");t._$loadScript=function(e,t){n._$$ScriptLoader._$allocate(t)._$load(e);return this};t._$queueScript=function(e,t){n._$$ScriptLoader._$allocate(t)._$queue(e);return this};t._$loadStyle=function(e,t){n._$$StyleLoader._$allocate(t)._$load(e);return this};t._$queueStyle=function(e,t){n._$$StyleLoader._$allocate(t)._$queue(e);return this};t._$loadHtml=function(e,t){n._$$HtmlLoader._$allocate(t)._$load(e);return this}},65,66,67);I$(51,function(){var e=NEJ.P,t=NEJ.O,n=e("nej.e"),i=e("nej.v"),a=e("nej.u"),r=e("nej.j"),o=e("nej.ut"),s={},l=+new Date+"-";n._$parseTemplate=function(){var e=0;var t=function(){if(!(e>0)){e=0;i._$dispatchEvent(document,"templateready");i._$clearEvent(document,"templateready")}};var s=function(e){var t=n._$dataset(e,"src");if(t){var i=e.ownerDocument.location.href;
t=t.split(",");a._$forEach(t,function(e,t,n){n[t]=a._$absolute(e,i)});return t}};var l=function(e){if(e){var t=s(e);if(t)r._$queueStyle(t,{version:n._$dataset(e,"version")});n._$addStyle(e.value)}};var _=function(i){e--;n._$addScript(i);t()};var c=function(t){if(t){var i=s(t),a=t.value;if(!i)n._$addScript(a);else{e++;var o={version:n._$dataset(t,"version"),onloaded:_._$bind(null,a)};window.setTimeout(r._$queueScript._$bind(r,i,o),0)}}};var u=function(i){e--;n._$parseTemplate(i);t()};var f=function(t){if(t){var i=s(t)[0];if(i){e++;var a={version:n._$dataset(t,"version"),onloaded:u};window.setTimeout(r._$loadHtml._$bind(r,i,a),0)}}};var d=function(i,a){e--;n._$addTextTemplate(i,a||"");t()};var h=function(t){if(t&&t.id){var i=t.id,a=s(t)[0];if(a){e++;var o=a+(a.indexOf("?")<0?"?":"&")+(n._$dataset(t,"version")||""),l={type:"text",method:"GET",onload:d._$bind(null,i)};window.setTimeout(r._$request._$bind(r,o,l),0)}}};var p=function(e){var t=e.name.toLowerCase();switch(t){case"jst":n._$addHtmlTemplate(e,!0);return;case"txt":n._$addTextTemplate(e.id,e.value||"");return;case"ntp":n._$addNodeTemplate(e.value||"",e.id);return;case"js":c(e);return;case"css":l(e);return;case"html":f(e);return;case"res":h(e);return}};o._$$CustomEvent._$allocate({element:document,event:"templateready",oneventadd:function(){t()}});return function(e){e=n._$get(e);if(e){var i="TEXTAREA"==e.tagName?[e]:e.getElementsByTagName("textarea");a._$forEach(i,p);n._$remove(e,!0)}t();return this}}();n._$addTextTemplate=function(e,t){s[e]=t||"";return this};n._$getTextTemplate=function(e){return s[e]||""};n._$addNodeTemplate=function(e,t){t=t||a._$randNumberString();e=n._$get(e)||e;n._$addTextTemplate(l+t,e);n._$removeByEC(e);return t};n._$getNodeTemplate=function(e){if(!e)return null;e=l+e;var t=n._$getTextTemplate(e);if(!t)return null;if(a._$isString(t)){t=n._$html2node(t);n._$addTextTemplate(e,t)}return t.cloneNode(!0)};n._$getItemTemplate=function(){var e=function(e,t){return"offset"==t||"limit"==t};return function(n,i,a){var r=[];if(!n||!n.length||!i)return r;a=a||t;var o=n.length,l=parseInt(a.offset)||0,_=Math.min(o,l+(parseInt(a.limit)||o)),c={total:n.length,range:[l,_]};NEJ.X(c,a,e);for(var u=l,f;u<_;u++){c.index=u;c.data=n[u];f=i._$allocate(c);var d=f._$getId();s[d]=f;f._$recycle=f._$recycle._$aop(function(e,t){delete s[e];delete f._$recycle}._$bind(null,d));r.push(f)}return r}}();n._$getItemById=function(e){return s[e]};n._$setup=function(e,a){a=a||t;n._$parseTemplate(a.tid||"template-box");i._$addEvent(document,"templateready",function(){e._$allocate()._$dispatchEvent("onshow",a)})}},55,57,58,5);I$(37,function(){var e=NEJ.P,t=NEJ.O,n=NEJ.F,i=e("nej.e"),a=e("nej.u"),r=e("nej.ut"),o=e("nej.ui"),s;if(!o._$$Abstract){o._$$Abstract=NEJ.C();s=o._$$Abstract._$extend(r._$$Event);s.__init=function(){this.__supInit();i._$dumpCSSText();this.__initXGui();this.__initNode()};s.__reset=function(e){this.__supReset(e);this.__doInitClass(e.clazz);this._$appendTo(e.parent)};s.__destroy=function(){this.__supDestroy();this.__doDelParentClass();delete this.__parent;i._$removeByEC(this.__body);i._$delClassName(this.__body,this.__class);delete this.__class};s.__initXGui=n;s.__initNode=function(){if(!this.__seed_html)this.__initNodeTemplate();this.__body=i._$getNodeTemplate(this.__seed_html);if(!this.__body)this.__body=i._$create("div",this.__seed_css);i._$addClassName(this.__body,this.__seed_css)};s.__initNodeTemplate=n;s.__doInitClass=function(e){this.__class=e||"";i._$addClassName(this.__body,this.__class)};s.__doAddParentClass=function(){if(this.__seed_css)i._$addClassName(this.__parent,this.__seed_css+"-parent")};s.__doDelParentClass=function(){if(this.__seed_css)i._$delClassName(this.__parent,this.__seed_css+"-parent")};s._$getBody=function(){return this.__body};s._$appendTo=function(e){if(!this.__body)return this;this.__doDelParentClass();if(a._$isFunction(e))this.__parent=e(this.__body);else{this.__parent=i._$get(e);if(this.__parent)this.__parent.appendChild(this.__body)}this.__doAddParentClass();return this};s._$show=function(){if(!this.__parent||!this.__body||this.__body.parentNode==this.__parent)return this;this.__parent.appendChild(this.__body);return this};s._$hide=function(){i._$removeByEC(this.__body);return this}}},2,3,51);I$(52,function(){var e=NEJ.P,t=NEJ.F,n=e("nej.v"),i=e("nej.u"),a=e("nej.ut"),r=e("nej.ut.g"),o;if(!r._$$Gesture){r._$$Gesture=NEJ.C();o=r._$$Gesture._$extend(a._$$Event);o.__init=function(){this.__supInit();this.__number=1;n._$addEvent(document,"touchcancel",this.__onTouchCancel._$bind(this));n._$addEvent(document,"touchstart",this.__onTouchStart._$bind(this));n._$addEvent(document,"touchmove",this.__onTouchMove._$bind(this));n._$addEvent(document,"touchend",this.__onTouchEnd._$bind(this))};o.__reset=function(e){this.__supReset(e);this.__tlist=[]};o.__destroy=function(){this.__supDestroy();delete this.__tlist};o.__doParseTouch=function(){var e=function(e){if(e){var t=e.identifier,n=e.pointerId;return null!=t?t:null!=n?n:null}};var t=function(t){var n={};i._$forEach(t,function(t,i){n[e(t)]=i});return n};var n=function(n,a){var r=!1,o=t(n);i._$forEach(a,function(t){var i=o[e(t)];if(null!=i){r=!0;n[i]=t}});return r};var a=function(n,a){var r=[],o=t(a);i._$reverseEach(n,function(t,i){var s=e(t),l=o[s];if(null!=l){r.push(a[l]);n.splice(i,1)}});return r.length>0?r:null};var r=function(e,t){return a(e,t)};var o=function(n,a){var r=!1,o=t(a);i._$forEach(n,function(t,i){var s=o[e(t)];if(null!=s){r=!0;n[i]=a[s];return r}});return r?n:null};var s=function(e,t,i){if(n(e,t))return e;else if(e.length<i){for(var a=e.length,r=0,o;a<i;r++,a++){o=t[r];if(!o)break;e.push(o)}return e}return null};return function(t,n){var i=t.changedTouches;if(!i){if(null==e(t))t.identifier=1;i=[t]}switch(n){case 1:return r(this.__tlist,i);case 2:i=o(this.__tlist,i);break;default:i=s(this.__tlist,i,this.__number)}return i&&i.length>=this.__number?i:null}}();o.__onTouchStart=function(e){var t=this.__doParseTouch(e);if(t)this.__doTouchStart(t,e)};o.__doTouchStart=t;o.__onTouchMove=function(e){var t=this.__doParseTouch(e,2);if(t)this.__doTouchMove(t,e)};o.__doTouchMove=t;o.__onTouchEnd=function(e){var t=this.__doParseTouch(e,1);if(t)this.__doTouchEnd(t,e)};o.__doTouchEnd=t;o.__onTouchCancel=function(e){var t=this.__doParseTouch(e,1);if(t)this.__doTouchCancel(t,e)};o.__doTouchCancel=t;o.__doDispatchEvent=function(e,t,i){n._$dispatchEvent(n._$getElement(t),e,i)}}},16,2,3);I$(38,function(){var e=NEJ.P,t=e("nej.v"),n=e("nej.ut.g"),i;if(!n._$$Tap){n._$$Tap=NEJ.C();i=n._$$Tap._$extend(n._$$Gesture),i.__init=function(){this.__supInit();this.__cancel_distance=2;this.__double_interval=650;this.__hold_interval=1e3};i.__doTapHoldCheck=function(e){this.__timer=window.clearTimeout(this.__timer);this.__doDispatchEvent("taphold",e)};i.__doTouchStart=function(e,n){this.__flag=!0;var i=e[0];this.__doDispatchEvent("tapdown",i);this.__pagex=t._$pageX(i);this.__pagey=t._$pageY(i);this.__timer=window.setTimeout(this.__doTapHoldCheck._$bind(this,i),this.__hold_interval)};i.__doTouchMove=function(e,n){if(this.__flag){var i=e[0];var a=Math.abs(t._$pageX(i)-this.__pagex),r=Math.abs(t._$pageY(i)-this.__pagex);if(a>=this.__cancel_distance||r>=this.__cancel_distance)this.__doTouchCancel(i,n)}};i.__doTouchEnd=function(e,t){if(this.__flag){var n=e[0];this.__flag=!1;this.__timer=window.clearTimeout(this.__timer);this.__doDispatchEvent("tapup",n);this.__doDispatchEvent("tap",n);var i=+new Date;if(null!=this.__taptime){if(i-this.__taptime<=this.__double_interval)this.__doDispatchEvent("dbltap",n);delete this.__taptime}else this.__taptime=i}};i.__doTouchCancel=function(e,t){if(this.__flag){var n=e[0];this.__flag=!1;this.__timer=window.clearTimeout(this.__timer);this.__doDispatchEvent("tapcancel",n)}};n._$$Tap._$allocate()}},52);I$(39,function(){var e=NEJ.P,t=e("nej.v"),n=e("nej.ut.g"),i;if(!n._$$Drag){n._$$Drag=NEJ.C();i=n._$$Drag._$extend(n._$$Gesture),i.__init=function(){this.__supInit();this.__drag_distance=2};i.__getDragFlag=function(e,t){var n=0,i=0;if(Math.abs(e)>=this.__drag_distance)n=1;if(Math.abs(t)>=this.__drag_distance)i=2;return n+i};i.__doTouchStart=function(e,n){e=e[0];this.__pagex=t._$pageX(e);this.__pagey=t._$pageY(e);this.__movex=t._$pageX(e);this.__movey=t._$pageY(e)};i.__doTouchMove=function(e,t){e=e[0];var n=this.__getDetal(e);if(this.__dragstart||0==n.direction){if(this.__dragstart)this.__doDispatchEvent("dragging",e,n)}else{this.__doDispatchEvent("dragbegin",e,n);this.__dragstart=!0}};i.__doTouchEnd=function(e,t){if(this.__dragstart){e=e[0];var n=this.__getDetal(e);this.__doDispatchEvent("dragcomplete",e,n);this.__dragstart=!1}};i.__doTouchCancel=function(e,t){this.__doTouchEnd.apply(this,arguments)};i.__getDetal=function(e){if(e){var n={};var i=t._$pageX(e)-this.__pagex,a=t._$pageY(e)-this.__pagey,r=t._$pageX(e)-this.__movex,o=t._$pageY(e)-this.__movey;this.__pagex=t._$pageX(e);this.__pagey=t._$pageY(e);n.detalX=i;n.detalY=a;n.moveX=r;n.moveY=o;n.direction=this.__getDragFlag(i,a);return n}};n._$$Drag._$allocate()}},52);I$(59,function(){var e=NEJ.P("nej.p"),t=window;if(!t.requestAnimationFrame||!t.cancelRequestAnimationFrame){var n=e._$KERNEL.prefix.pro;if(!t[n+"RequestAnimationFrame"]||!t[n+"CancelRequestAnimationFrame"]){var i=e._$IS,a=i.desktop?80:i.ios?50:30;t.requestAnimationFrame=function(e){return window.setTimeout(function(){try{e(+new Date)}catch(t){}},1e3/a)};t.cancelRequestAnimationFrame=function(e){window.clearTimeout(e);return this}}else{t.requestAnimationFrame=t[n+"RequestAnimationFrame"];t.cancelRequestAnimationFrame=t[n+"CancelRequestAnimationFrame"]}}},21);I$(53,function(){var e=NEJ.P,t=NEJ.O,n=NEJ.F,i=e("nej.ut"),a;if(!i._$$Animation){i._$$Animation=NEJ.C();a=i._$$Animation._$extend(i._$$Event);a.__reset=function(e){this.__supReset(e);this.__end=e.to||t;this.__begin=e.from||{}};a.__destroy=function(){this.__supDestroy();this._$stop();delete this.__end;delete this.__begin};a.__onAnimationFrame=function(e){if(this.__begin){if((""+e).indexOf(".")>=0)e=+new Date;if(!this.__doAnimationFrame(e))this.__timer=requestAnimationFrame(this.__onAnimationFrame._$bind(this));else this._$stop();
}};a.__doAnimationFrame=n;a._$play=function(){this.__begin.time=+new Date;this.__timer=requestAnimationFrame(this.__onAnimationFrame._$bind(this));return this};a._$stop=function(){this.__timer=cancelRequestAnimationFrame(this.__timer);this._$dispatchEvent("onstop");return this}}},3,59);I$(40,function(){var e=NEJ.O,t=NEJ.P("nej.ut"),n,i;if(!t._$$AnimBounce){t._$$AnimBounce=NEJ.C();n=t._$$AnimBounce._$extend(t._$$Animation);i=t._$$AnimBounce._$supro;n.__reset=function(e){this.__supReset(e);this.__acceleration=e.acceleration||30;this.__springtension=e.springtension||.3};n.__doAnimationFrame=function(e){var t=e-this.__begin.time,n=t/this.__acceleration,i=n*Math.pow(Math.E,-this.__springtension*n),a=this.__begin.velocity*i,r=this.__begin.offset+a,o=!1;if(t>1&&Math.abs(a)<1){o=!0;r=this.__begin.offset}this._$dispatchEvent("onupdate",{offset:r});return o};n._$stop=function(){this._$dispatchEvent("onupdate",{offset:this.__begin.offset});i._$stop.apply(this,arguments);return this}}},53);I$(54,function(){var e=NEJ.P,t=NEJ.O,n=e("nej.u"),i=e("nej.ut"),a,r;if(!i._$$AnimBezier){i._$$AnimBezier=NEJ.C();a=i._$$AnimBezier._$extend(i._$$Animation);r=i._$$AnimBezier._$supro;a.__reset=function(e){this.__supReset(e);this.__duration=e.duration||200;this.__epsilon=1/(200*this.__duration);this.__doParseTiming(e.timing);this.__doCalPolynomialCoefficients()};a.__destroy=function(){this.__supDestroy();delete this.__pointer;delete this.__coefficient};a.__doParseTiming=function(){var e=/^cubic\-bezier\((.*?)\)$/i,t=/\s*,\s*/i,i={linear:[0,0,1,1],ease:[.25,.1,.25,1],easein:[.42,0,1,1],easeout:[0,0,.58,1],easeinout:[0,0,.58,1]};var a=function(e,t,n){n[t]=parseFloat(e)};return function(r){r=(r||"").toLowerCase();this.__pointer=i[r];if(e.test(r)){this.__pointer=RegExp.$1.split(t);n._$forEach(this.__pointer,a)}if(!this.__pointer)this.__pointer=i.ease}}();a.__doCalPolynomialCoefficients=function(){var e=this.__pointer,t=3*e[0],n=3*(e[2]-e[0])-t,i=1-t-n,a=3*e[1],r=3*(e[3]-e[1])-a,o=1-a-r;this.__coefficient={ax:i,ay:o,bx:n,by:r,cx:t,cy:a}};a.__doCalCubicBezierAtTime=function(){var e=function(e,t){return((t.ax*e+t.bx)*e+t.cx)*e};var t=function(e,t){return((t.ay*e+t.by)*e+t.cy)*e};var n=function(e,t){return(3*t.ax*e+2*t.bx)*e+t.cx};var i=function(t,i,a){var r,o,s,l,_,c;for(s=t,c=0;c<8;c++){l=e(s,a)-t;if(Math.abs(l)<i)return s;_=n(s,a);if(Math.abs(_)<1e-6)break;s-=l/_}r=0;o=1;s=t;if(s<r)return r;if(s>o)return o;for(;r<o;){l=e(s,a);if(Math.abs(l-t)<i)return s;if(t>l)r=s;else o=s;s=.5*(o-r)+r}return s};return function(e){return t(i(e/this.__duration,this.__epsilon,this.__coefficient),this.__coefficient)}}();a.__doAnimationFrame=function(e){var t=e-this.__begin.time,i=this.__doCalCubicBezierAtTime(t),a=n._$fixed(this.__begin.offset*(1-i)+this.__end.offset*i,2),r=!1;if(t>=this.__duration){a=this.__end.offset;r=!0}this._$dispatchEvent("onupdate",{offset:a});return r};a._$stop=function(){this._$dispatchEvent("onupdate",{offset:this.__end.offset});r._$stop.apply(this,arguments);return this}}},53);I$(41,function(){var e=NEJ.P("nej.ut"),t;if(!e._$$AnimEaseOut){e._$$AnimEaseOut=NEJ.C();t=e._$$AnimEaseOut._$extend(e._$$AnimBezier);t.__reset=function(e){e=NEJ.X({},e);e.timing="easeout";this.__supReset(e)}}},54);I$(42,function(){var e=NEJ.O,t=NEJ.P("nej.ut"),n;if(!t._$$AnimDecelerate){t._$$AnimDecelerate=NEJ.C();n=t._$$AnimDecelerate._$extend(t._$$Animation);n.__reset=function(e){this.__supReset(e);this.__friction=e.friction||.5;this.__theta=Math.log(1-this.__friction/10);this.__acceleration=e.acceleration||30};n.__doAnimationFrame=function(e){var t=Math.exp((e-this.__begin.time)/this.__acceleration*this.__theta),n=this.__begin.offset-this.__begin.velocity*(1-t)/this.__theta,i=this.__begin.velocity*t,a=!1;if(Math.abs(i)<=1)a=!0;this._$dispatchEvent("onupdate",{offset:n,velocity:i});return a}}},53);I$(19,function(){var e=NEJ.O,t=NEJ.F,n=NEJ.P("nej.e"),i=NEJ.P("nej.v"),a=NEJ.P("nej.u"),r=NEJ.P("nej.ut"),o=NEJ.P("nej.ui"),s,l;o._$$Scroller=NEJ.C();s=o._$$Scroller._$extend(o._$$Abstract);l=o._$$Scroller._$supro;s.__init=function(){this.__supInit();this.__momentum={};this.__config=this.__getConfig();this.__alopt={from:{},to:{},onstop:this.__doStopBounceRevert._$bind(this),onupdate:this.__doUpdateBounceRevert._$bind(this)};this.__adopt={from:{},onstop:this.__doStopDecelerate._$bind(this),onupdate:this.__doUpdateDecelerate._$bind(this)};this.__abopt={from:{},onstop:this.__doStopBounce._$bind(this),onupdate:this.__doUpdateBounce._$bind(this)};this.__evopt={ontapstart:this.__onTouchStart._$bind(this),ondragstart:this.__onDragStart._$bind(this),ondrag:this.__onDragging._$bind(this),ondragend:this.__onDragEnd._$bind(this),ontransitionend:this.__onTransitionEnd._$bind(this)}};s.__getConfig=t;s.__reset=function(e){this.__supReset(e);this.__doInitDomEvent([[this.__parent.parentNode,"touchstart",i._$stopDefault],[this.__parent.parentNode,"touchmove",i._$stopDefault]]);this.__bpoint=[0,0];this.__animate={minvelocity:1,bcfactor:.5,minbar:.2,reset:300,acceleration:30};NEJ.EX(this.__animate,e.config);this.__cbox=n._$get(e.container)||n._$getChildren(this.__parent)[0];n._$addClassName(this.__cbox,this.__seed+"-view")};s.__destroy=function(){this.__supDestroy();n._$delClassName(this.__cbox,this.__seed+"-view");delete this.__offset;n._$setStyle(this.__cbox,"transform","")};s.__refresh=function(){var e=function(e,t){if(!e)return 0;var n=e[t];for(;e&&!n;){e=e.parentNode;if(e)n=e[t]}return n};return function(){var t=this.__cbox[this.__config.sb],n=e(this.__parent,this.__config.ob);this.__scrollable=t>n;this.__boxsize=n;this.__barsize=Math.max(n*n/t,n*this.__animate.minbar);this.__scratio=(n-this.__barsize)/(t-n);this.__body.style[this.__config.g]=this.__barsize+"px";this.__bpoint=[Math.min(0,n-t),0];this.__offset=this.__getOffset()}}();s.__clearScrollBarTimer=function(){if(this.__timer)this.__timer=window.clearTimeout(this.__timer)};s.__showScrollBar=function(){if(this.__barable&&this.__scrollable){this.__clearScrollBarTimer();this.__body.style.opacity=1}};s.__hideScrollBar=function(){if(this.__barable&&this.__scrollable){this.__clearScrollBarTimer();this.__timer=window.setTimeout(function(){this.__body.style.opacity=0}._$bind(this),300)}};s.__getOffset=function(){var e=n._$matrix(n._$getStyle(this.__cbox,"transform"));return parseInt(e[this.__config.dx])||0};s.__getOutofBounce=function(e){var t=null==e?this.__offset:e;if(this.__bpoint[0]<=t&&this.__bpoint[1]>=t)return 0;var n=t-this.__bpoint[0];if(n<0)return n;n=t-this.__bpoint[1];if(n>0)return n;else;};s.__doRefresh=function(e){e=!!e||void 0===this.__offset;if(e)this.__refresh()};s.__doRevertBounce=function(e,t){var n=this.__getOutofBounce();if(0!=n&&!this.__linear){var i=null!=e?e:this.__bpoint[n<0?0:1];this.__alopt.duration=t||200;this.__alopt.from.offset=this.__offset;this.__alopt.to.offset=i;this.__linear=r._$$AnimEaseOut._$allocate(this.__alopt);this.__linear._$play();return!0}};s.__doStopBounceRevert=function(){if(this.__linear)this.__linear=this.__linear._$recycle();this.__skip=!1};s.__doUpdateBounceRevert=function(e){this.__doScrollTo(e.offset)};s.__doStopDecelerate=function(e){if(this.__decelerator)this.__decelerator=this.__decelerator._$recycle();if(!e){this.__hideScrollBar();this._$dispatchEvent("onscrollend",this.__getOffset())}};s.__doUpdateDecelerate=function(e){var t=e.offset,n=e.velocity,i=this.__getOutofBounce(t);if(0!=i){this.__doStopDecelerate(!0);this.__abopt.from.velocity=n;this.__abopt.from.offset=this.__bpoint[i<0?0:1];this.__bouncer=r._$$AnimBounce._$allocate(this.__abopt);this.__bouncer._$play()}else this.__doScrollTo(t)};s.__doStopBounce=function(){if(this.__bouncer)this.__bouncer=this.__bouncer._$recycle();this.__hideScrollBar()};s.__doUpdateBounce=function(e){this.__doScrollTo(e.offset)};s.__doScrollBy=function(e){this.__doScrollTo(this.__offset+e)};s.__doScrollTo=function(e){var t=e-this.__offset;if(t){this.__offset=e;var i=this.__getOutofBounce(),r=i<0?0:1,o=0!=i;if(o)this.__offset=Math.ceil(this.__offset-t+this.__animate.bcfactor*t);var s={};s[this.__config.of]=a._$fixed(this.__offset,2)+"px";n._$css3d(this.__cbox,"translate",s);if(this.__barable){var e=Math.floor(Math.max(0,-this.__scratio*this.__offset));if(o){var l=Math.max(8,this.__barsize-2*Math.abs(i));this.__body.style[this.__config.g]=l+"px";if(i<0)e=this.__boxsize-l}else{this.__body.style[this.__config.g]=this.__barsize+"px";e=Math.min(e,this.__boxsize-this.__barsize)}var s={};s[this.__config.of]=a._$fixed(e,2)+"px";n._$css3d(this.__body,"translate",s)}if(o){if(!this.__skip){var _={movement:i,direction:t>0?-1:1};if(!this.__bouncing){this.__bouncing=!0;this._$dispatchEvent("onbouncestart",_)}else this._$dispatchEvent("onbounce",_)}}else{var c=this.__bouncing?"onbouncend":"onscroll";this.__bouncing=!1;this._$dispatchEvent(c,this.__offset)}}};s.__onTouchStart=function(){if(this.__linear)this.__linear._$stop();if(this.__bouncer)this.__bouncer._$stop();if(this.__decelerator)this.__decelerator._$stop();if(this.__timer2){this.__timer2=window.clearInterval(this.__timer2);this.__onTransitionEnd()}};s.__onDragStart=function(){this.__refresh();this.__scrolling=!0;this.__showScrollBar();this.__momentum.offset=this.__offset;this.__momentum.time=(new Date).getTime()};s.__onDragging=function(e){if(this.__scrolling){var t=e.detalY;this.__doScrollBy(t);var n=(new Date).getTime();if(n-this.__momentum.time>this.__animate.reset){this.__momentum.time=n;this.__momentum.offset=this.__offset}}};s.__onDragEnd=function(e){if(this.__scrolling){this.__scrolling=!1;var t={};this._$dispatchEvent("onrelease",t);var n=this.__doRevertBounce(t.offset);if(!n){var i=(new Date).getTime()-this.__momentum.time,a=this.__offset-this.__momentum.offset,o=a/i*this.__animate.acceleration;if(!(Math.abs(o)<this.__animate.minvelocity)){this.__adopt.from.offset=this.__offset;this.__adopt.from.velocity=o;this.__decelerator=r._$$AnimDecelerate._$allocate(this.__adopt);this.__decelerator._$play()}else{this.__hideScrollBar();this._$dispatchEvent("onscrollend",this.__getOffset())}}else this.__hideScrollBar();
}};s.__onTransitionEnd=function(){this.__cbox.style.webkitTransitionDuration="0ms"};s._$appendTo=function(e){l._$appendTo.apply(this,arguments);this.__barable="none"!=n._$getStyle(this.__body,"display");if(this.__parent)this.__doInitDomEvent([[document,"dragging",this.__evopt.ondrag],[document,"dragcomplete",this.__evopt.ondragend],[this.__parent,"tapdown",this.__evopt.ontapstart],[this.__parent,"dragbegin",this.__evopt.ondragstart]])};s._$revertBounce=function(){if(this.__linear)this.__linear._$stop();this.__skip=!0;this.__doRevertBounce(null,200)};s._$isInViewPoint=function(e){e=n._$get(e);if(!e)return!1;var t=n._$offset(e,this.__cbox)[this.__config.of],i=t+e.offsetHeight;this.__doRefresh();var a=Math.abs(Math.min(0,this.__offset)),r=a+this.__boxsize;return!(i<a||t>r)};s._$getScrollTop=function(){this.__doRefresh();return Math.abs(Math.max(this.__bpoint[0],Math.min(this.__bpoint[1],this.__offset)))};s._$scrollBy=function(e,t){this.__doRefresh(t);this._$scrollTo(Math.abs(this.__offset)+(parseInt(e)||0))};s._$scrollTo=function(e,t){this.__onTouchStart();this.__doRefresh(t);e=Math.max(this.__bpoint[0],Math.min(this.__bpoint[1],0-e));n._$setStyle(this.__cbox,"transitionDuration","150ms");this.__doScrollTo(e);if(this.__timer2)this.__timer2=window.clearTimeout(this.__timer2);this.__timer2=window.setTimeout(this.__evopt.ontransitionend,150)};s._$scrollTop=function(e){this.__doRefresh(e);this._$scrollTo(Math.abs(this.__bpoint[1]))};s._$scrollMiddle=function(e){this.__doRefresh(e);this._$scrollTo((this.__bpoint[1]-this.__bpoint[0])/2)};s._$scrollBottom=function(e){this.__doRefresh(e);this._$scrollTo(Math.abs(this.__bpoint[0]))};s._$scrollToElement=function(e,t){var i=n._$offset(e,this.__cbox);if(i)this._$scrollTo(i[this.__config.of],t)}},37,38,39,40,41,42);I$(13,function(){var e=NEJ.P("nej.e"),t=NEJ.P("nej.ui"),n,i;if(!t._$$ScrollerY){var a=e._$pushCSSText("                     .#<uispace>{position:absolute;z-index:10;$<transform>-origin:0 0;$<transition>-property:opacity;$<transition>-duration:250ms;background-color:rgba(0,0,0,0.6);$<border-radius>:4px;border:1px solid rgba(255,255,255,0.2);opacity:0;overflow:hidden;}                     .#<uispace>-view{position:relative;z-index:5;$<transform>:$<translate>;}                     .#<uispace>{top:0;right:1px;width:6px;}");t._$$ScrollerY=NEJ.C();n=t._$$ScrollerY._$extend(t._$$Scroller);i=t._$$ScrollerY._$supro;n.__initXGui=function(){this.__seed_css=a};n.__getConfig=function(){return{f:"v",a:"top",g:"height",t:"pageY",of:"y",ob:"offsetHeight",sb:"scrollHeight",dx:"m42"}}}},19);I$(14,function(){function e(){t();i()}function t(){var e=-1,t="",i="";t="undefined"==$||!$?location.hash.split("#")[1]:$;if(!t){e=m[0].id;i=m[0].title}else for(var a=0;a<m.length;a++)if(t.toLowerCase()==m[a].name.toLowerCase()){e=m[a].id;i=m[a].title}b=e!=-1?new p._$$Combo(l):new p._$$Combo(_);b._$add();d._$request("/view/wrap/_libraryList.ejs",{onload:n});r(e,i)}function n(e){y=e;b._$finishOne()}function i(){for(var e=0;e<m.length;e++)h._$addEvent(m[e].id,"click",a._$bind(f._$get(m[e].id)))}function a(e){r(this.id,f._$getChildren(this)[0].innerHTML)}function r(e,t){if(e==-1){f._$get("cerr1").style.display="";f._$get("cerr2").style.display="none";f._$get("cnoerr").style.display="none"}else{var n=f._$getByClassName("menulist","crt");if(null!=n)f._$delClassName(n[0],"crt");f._$addClassName(e,"crt");f._$get("cerr1").style.display="none";f._$get("cerr2").style.display="none";f._$get("cnoerr").style.display="";document.title=t+" - 代码库 - NEC : 更好的CSS样式解决方案";f._$get("_libTitle").innerHTML=t;f._$get("_libList").innerHTML='<div class="u-load">加载中，请稍后...</div>';b._$add();d._$request("/xhr/library.getDescendantByCategoryId?id="+e,{timeout:1e4,onerror:s._$bind(null,t),onload:o})}}function o(e){E=JSON.parse(e).data;b._$finishOne()}function s(){if(f._$get("_libTitle").innerHTML==arguments[0]){f._$get("cerr1").style.display="none";f._$get("cerr2").style.display="";f._$get("cnoerr").style.display="none"}}function l(){f._$get("cerr1").style.display="none";f._$get("cerr2").style.display="none";f._$get("cnoerr").style.display="";var e=require("ejs").render(y,{data:E});f._$get("_libList").innerHTML=e}function _(){var e=require("ejs").render(y,{data:E});f._$get("_libList").innerHTML=e}function c(){var e=f._$get("wrapper");e.className="g-wrapper";var t=f._$get("scroller");t.className="m-scroller";t.style.height=document.body.scrollHeight+"px"}var u=NEJ.P("nej.p"),f=NEJ.P("nej.e"),d=NEJ.P("nej.j"),h=NEJ.P("nej.v"),p=NEJ.P("nec.g"),v=NEJ.P("nej.ui"),g=window.parseLibrary,m=window.categoryList,$=window.categoryName,b,y,E;e()},2,5,6,7,12,8,13);